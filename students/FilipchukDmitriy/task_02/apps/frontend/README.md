# Frontend ‚Äî "–ü–∏—à–µ–º –≤–¥–≤–æ—ë–º" üìù

SPA-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫.

## –°—Ç–µ–∫

- React 18 + TypeScript
- Vite
- react-router-dom
- react-hook-form + zod
- fetch API (credentials: 'include')

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 18
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π backend (—Å–º. apps/backend/README.md)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```
cd apps/frontend
npm install
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ .env.example –∏ –∑–∞–¥–∞–π—Ç–µ:

- VITE_API_URL (–Ω–∞–ø—Ä–∏–º–µ—Ä <http://localhost:4000>)

## –ó–∞–ø—É—Å–∫

- Dev: `npm run dev` (<http://localhost:5173>)
- Build: `npm run build`
- Preview: `npm run preview`

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç auth

- Access token —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (AuthContext).
- Refresh token –∂–∏–≤—ë—Ç –≤ HttpOnly cookie –Ω–∞ backend.
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —Å credentials: 'include'.
- –ü—Ä–∏ 401 —Ñ—Ä–æ–Ω—Ç –¥–µ–ª–∞–µ—Ç POST /auth/refresh, –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π access –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å. –ï—Å–ª–∏ refresh –Ω–µ–≤–∞–ª–∏–¥–µ–Ω ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π logout.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- /login, /register ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- /notebooks ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–µ—Ç—Ä–∞–¥–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ
- /notebooks/:id ‚Äî –∑–∞–º–µ—Ç–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Ç—Ä–∞–¥–∏
- /notes/:id ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
- /labels ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∞–º–∏ (—Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ admin)
- /shared ‚Äî —Ç–µ—Ç—Ä–∞–¥–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–¥–µ–ª–∏–ª–∏—Å—å
- /admin/users ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (admin)

## –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞

- user: CRUD —Å–≤–æ–∏—Ö —Ç–µ—Ç—Ä–∞–¥–µ–π/–∑–∞–º–µ—Ç–æ–∫/–º–µ—Ç–æ–∫, —à–∞—Ä–∏–Ω–≥ —Å–≤–æ–∏—Ö —Ç–µ—Ç—Ä–∞–¥–µ–π
- admin: –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ user + —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç–∫–∏ + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ api/          # –∫–ª–∏–µ–Ω—Ç—ã auth, notebooks, notes, labels, shares, users
‚îú‚îÄ‚îÄ components/   # layout, ui, guard-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ context/      # AuthContext (access –≤ –ø–∞–º—è—Ç–∏, refresh —á–µ—Ä–µ–∑ cookie)
‚îú‚îÄ‚îÄ lib/          # validation (zod)
‚îú‚îÄ‚îÄ pages/        # —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ types/        # —Ç–∏–ø—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å backend
‚îú‚îÄ‚îÄ config.ts     # VITE_API_URL
‚îú‚îÄ‚îÄ App.tsx       # —Ä–æ—É—Ç–∏–Ω–≥
‚îî‚îÄ‚îÄ styles.css    # CSS utilities
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (UI)

1) –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≤–æ–π—Ç–∏ –ø–æ–¥ seed-–∞–∫–∫–∞—É–Ω—Ç–æ–º (admin / Admin123!, alice / User123!, bob / User234!, charlie / User345!).
2) –°–æ–∑–¥–∞—Ç—å —Ç–µ—Ç—Ä–∞–¥—å, –∑–∞–º–µ—Ç–∫—É, –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∫—É.
3) –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏—Å—Ç–µ—á–µ–Ω–∏—è access (–≤ dev –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å JWT_ACCESS_TTL –≤ apps/backend/.env) ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∞–≤—Ç–æ-refresh.
4) –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç–µ—Ç—Ä–∞–¥—å—é, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ–¥ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
5) –í—ã–π—Ç–∏ (Logout) ‚Äî refresh-cookie –æ—á–∏—â–∞–µ—Ç—Å—è, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π refresh –≤–µ—Ä–Ω—ë—Ç 401.

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ UX

- Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ—à–∏–±–æ–∫ API.
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥ –ø–æ–ª—è–º–∏ —Ñ–æ—Ä–º—ã.
- –°–ø–∏–Ω–Ω–µ—Ä—ã –∏ –ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–∞–º, –≥–¥–µ –Ω—É–∂–Ω–æ.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–∏–∫–∞–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ localStorage/sessionStorage.
- HttpOnly refresh cookie + CORS —Å credentials.
- Access —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
